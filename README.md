git clone https://github.com/AlexVel76/Hibernate.git <br>
 <br>
# Hibernate <br>
 <br>
There are SQLs that was generated by Hibernate to send to DB <br>
 <br>
Hibernate: insert into style (id, name) values (1, 'RED') <br>
Hibernate: insert into style (id, name) values (2, 'GREEN') <br>
Hibernate: insert into style (id, name) values (3, 'Blue') <br>
Hibernate: insert into style (id, name) values (4, 'White') <br>
Hibernate: insert into style (id, name) values (5, 'Big') <br>
Hibernate: insert into style (id, name) values (6, 'Small') <br>
Hibernate: update hibernate_sequence set next_val= 7 <br>
 <br>

-------------- N+1 issue -------------- <br>
Hibernate: select product0_.id as id1_0_, product0_.name as name2_0_, product0_.style_id as style_id3_0_ from product product0_ <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
prod1 : GREEN <br>
prod2 : GREEN <br>
prod3 : GREEN <br>
prod4 : GREEN <br>
prod1 : Blue <br>
prod1 : White <br>
prod1 : Big <br>
prod5 : tt1 <br>
prod6 : tt1 <br>
--------------3--------------(Same query and configuratioin od reltion but call the same records in SAME Transaction) <br>
Hibernate: select product0_.id as id1_0_, product0_.name as name2_0_, product0_.style_id as style_id3_0_ from product product0_ <br>
prod1 : GREEN <br>
prod2 : GREEN <br>
prod3 : GREEN <br>
prod4 : GREEN <br>
prod1 : Blue <br>
prod1 : White <br>
prod1 : Big <br>
prod5 : tt1 <br>
prod6 : tt1 <br>
--------------4--------------But if we call products and styles in a NEW transaction we hit the N+1 againe <br>
Hibernate: select product0_.id as id1_0_, product0_.name as name2_0_, product0_.style_id as style_id3_0_ from product product0_ <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
Hibernate: select style0_.id as id1_2_0_, style0_.name as name2_2_0_ from style style0_ where style0_.id=? <br>
prod1 : GREEN <br>
prod2 : GREEN <br>
prod3 : GREEN <br>
prod4 : GREEN <br>
prod1 : Blue <br>
prod1 : White <br>
prod1 : Big <br>
prod5 : tt1 <br>
prod6 : tt1 <br>
--------------5--------------(without wrapped transaction AND use JOIN FETCH) <br>
Hibernate: select distinct product0_.id as id1_0_0_, style1_.id as id1_2_1_, product0_.name as name2_0_0_, product0_.style_id as style_id3_0_0_, style1_.name as name2_2_1_ from product product0_ inner join style style1_ on product0_.style_id=style1_.id <br>
prod1 : GREEN <br>
prod2 : GREEN <br>
prod3 : GREEN <br>
prod4 : GREEN <br>
prod1 : Blue <br>
prod1 : White <br>
prod1 : Big <br>
prod5 : tt1 <br>
prod6 : tt1 <br>
--------------6--------------without wrapped transaction AND use Dynamic Entity Graph <br>
Hibernate: select distinct product0_.id as id1_0_0_, style1_.id as id1_2_1_, product0_.name as name2_0_0_, product0_.style_id as style_id3_0_0_, style1_.name as name2_2_1_ from product product0_ left outer join style style1_ on product0_.style_id=style1_.id <br>
prod1 : GREEN <br>
prod2 : GREEN <br>
prod3 : GREEN <br>
prod4 : GREEN <br>
prod1 : Blue <br>
prod1 : White <br>
prod1 : Big <br>
prod5 : tt1 <br>
prod6 : tt1
